<a routerLink="/app/business/reports" class="return">&larr; Back</a>

<app-headers title="Reports/Users Onboarding"></app-headers>


<!-- <div *ngIf="loading"> -->


<div class="row">

  <div class="col-md-7 col-12 mb-6" style="margin-bottom: 1rem;">
    <div class="card">
      <div class="card-body">
          <div class="col">
            <!-- <small class="text-muted">Overview</small> -->
            <!-- <h5 class="font-weight-bold">Loans</h5> -->
          </div>
        <canvas id="users"></canvas>
      </div>
    </div>
  </div>
  
  <div class="col-12 col-sm-12 col-md-5" *ngIf="stats">

    <div class="card" style="margin-bottom: .7rem;">
        <div class="card-body">
            <div class="col-12 col-sm-4 col-md-12 text-left">
                <small class="text-muted">
                    Total Accounts
                </small>
                <h5 class="font-weight-bold">{{!stats?.userCount.total_user ? 'N/A' : stats?.userCount.total_user}}</h5>
                <small>5% (10 days) </small> 
                <mat-icon style="position: absolute;">arrow_drop_down</mat-icon>
            </div>
  
            <div class="row">
              <div class="col-12 col-sm-4 col-md-4 text-left green">
                  <!-- <div class="col-md-12 "> -->
                    <small class="text-muted">
                        Active Accounts
                    </small>
                    <h5 class="font-weight-bold green">{{!stats?.userCount.active ? 'N/A' : stats?.userCount.active}}</h5>
                  <!-- </div> -->
              </div>
   
  
              <div class="col-12 col-sm-4 col-md-4 text-left red">
                  <!-- <div class="col-md-12"> -->
                    <small class="text-muted">
                        Inactive Accounts
                    </small>
                    <h5 class="font-weight-bold">{{!stats?.userCount.inactive ? 'N/A' : stats?.userCount.inactive}}</h5>
                  <!-- </div> -->
              </div>

              <div class="col-12 col-sm-4 col-md-4 text-left red">
                <!-- <div class="col-md-12"> -->
                  <small class="text-muted">
                    Pending Accounts
                  </small>
                  <h5 class="font-weight-bold" style="color: orange;">{{!stats?.userCount.pending ? 'N/A' : stats?.userCount.pending}}</h5>
                <!-- </div> -->
            </div>

            </div>
        </div>
      </div>
      <!-- <br> -->
      <div class="card">
        <div class="card-body">
            <div class="row">
              <div class="col-6 col-sm-6 col-md-7 col-lg-7 col-xl-7 text-left">
                    <small class="text-muted">
                        Savers
                    </small>
                    <h5 class="font-weight-bold green">{{!stats?.category.saverCount ? 'N/A' : stats?.category.saverCount}}</h5>
                    <small>5% (10 days)</small>
                    <mat-icon style="position: absolute;">arrow_drop_down</mat-icon>
                </div>
   
  
              <div class="col-6 col-sm-6 col-md-5 col-lg-5 col-xl-5 text-left">
                    <small class="text-muted">
                        Borrowers
                    </small>
                    <h5 class="font-weight-bold red">{{!stats?.category.loanCount ? 'N/A' : stats?.category.loanCount}}</h5>
                    <small>5% (10 days)</small>
                    <mat-icon style="position: absolute;">arrow_drop_down</mat-icon>
                </div>
            </div>
        </div>
      </div>

  </div>

</div>

<div class="row">
    <div class="col-md-12 col-12 mb-12">
    <div class="card">
        <div class="card-body">
            <div class="row justify-content-between align-items-center">


                    <div class="col-md-3 col-6 col-sm-3 ">
                        <span class="has-search">
                          <input type="text" name="search" placeholder="Start Date" class="search form-control" />
                          <mat-icon class="icon ml-1 search-icon">filter_list</mat-icon>
                        </span>
                      </div>

                    <div class="col-md-3 col-6 col-sm-3 ">
                        <span class="has-search">
                          <input type="text" name="search" placeholder="End Date" class="search form-control" />
                          <mat-icon class="icon ml-1 search-icon">filter_list</mat-icon>
                        </span>
                      </div>

                      <div class="col-md-3 col-6 col-sm-3 ">
                        <button class="btn btn-primary"> Filter</button>
                      </div>
                    
                <div class="col-md-3 col-12 mb-12 col-sm-3 text-right">
                    <button class="btn btn-primary">Export</button>
                </div>
              </div>
        </div>
    </div>
</div>
</div>





<div class="row">

    <div class="col-md-12 col-12 mb-12">

        <div class="table-responsive">
            <table class="table">
              <thead>
                <tr>
                  <th scope="col">Date Joined</th>
                  <th scope="col">user Id</th>
                  <th scope="col">Mobile No.</th>
                  <th scope="col">Onboarding Stage</th>
                </tr>
              </thead>
              <tbody class="text-muted">
                <tr *ngFor="let eachUser of users">
                  <td><a routerLink="LS229844">{{!eachUser.created_on ? 'N/A' : eachUser.created_on | date}}</a></td>
                  <td><a routerLink="LS229844">{{!eachUser.id ? 'N/A' : eachUser.id}}</a></td>
                  <td><a routerLink="LS229844">{{!eachUser.phone_number ? 'N/A' : eachUser.phone_number}}</a></td>
                  <td><a routerLink="LS229844">{{!eachUser.onboardStage.name ? 'N/A' : eachUser.onboardStage.name | uppercase}}</a></td>
                  </tr>
              </tbody>
            </table>
          </div>
    </div>
  </div>

<!-- </div> -->

<!-- <div class="row">
  <div class="col-md-12">
    <div class="card" *ngIf="!loading">
      <div class="card-body">
        <h3 class="text-center text-muted">Loading...</h3>
      </div>
    </div>
  </div>
</div> -->